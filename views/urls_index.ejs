<!DOCTYPE html>
<html lang="en">
<head>
  
  <%- include('partials/_head') %>

  <title>TinyApp - URLs Index</title>
</head>

<body>

  <%- include('partials/_header') %>

  <main style="margin: 1em;">
      <h3 style="text-align: center; margin: 1.5rem" >My Tiny URLs</h3>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Short URL</th>
            <th scope="col">Original URL</th>
            <th scope="col">Date Created</th>
            <th scope="col">Unique Visits</th>
            <th scope="col">Total Visits</th>
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>
        <tbody>
          <% for (const url in urls) { %>
          <tr>
              <td><a href="/urls/<%= urls[url].shortURL %>"><%= urls[url].shortURL %></a></td>
              <td><%= urls[url].longURL %></td>
              <td><%= urls[url].date %></td>
              <td><%= urls[url].uniqueVisit %></td>
              <td><%= urls[url].totalVisit %></td>
              <td>
                <form method="GET" action="/urls/<%= urls[url].shortURL %>">
                  <button type="submit" class="btn btn-outline-primary">Edit</button>
                </form>
              </td>
              <td>
                <form method="POST" action="/urls/<%= urls[url].shortURL %>/delete?_method=DELETE">
                  <button type="submit" class="btn btn-outline-danger">Delete</button>
                </form>
              </td>
          </tr>
          <% } %>
        </tbody>
      </table>  
    
    <section style="margin: 2rem 0 0 0">
      <a href = "/urls/new"><button class="btn btn-outline-primary">New Tiny URL</button></a>
    </section>
    
    
  </main>
  
  <%- include('partials/_footer') %>

</body>
</html>
